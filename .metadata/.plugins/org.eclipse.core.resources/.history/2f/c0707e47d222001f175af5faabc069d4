package com.Sohee;

import java.util.Date;
import java.text.SimpleDateFormat;
import java.util.Scanner;
import java.util.List;
import java.util.ArrayList;



public class Planner {
	private List<Menu> listmenu = new ArrayList<>();
	Scanner scanner = new Scanner(System.in);
	private int counter=0;
	Date today = new Date();
	SimpleDateFormat day = new SimpleDateFormat("yyyy-MM-dd E요일");
	Menu menu = new Menu();
	public void showMenu() {
		while(true) {
			System.out.println("---------------------------------");
			System.out.print(day.format(today));
			System.out.println();
			System.out.println("1.오늘의 목표사용금액 :  ");
			System.out.println();
			System.out.println("2. 등록 ");   
			System.out.println("3. 수정 ");
			System.out.println("4. 삭제 ");
			System.out.println("5. 저장 ");
			System.out.println("6. 사용내역조회"+"\n"+ 
								"7. 잔액확인" + "\n" + 
								"8. 종료");
			System.out.println("---------------------------------");
			System.out.println("선택 > ");
			
			//키보드 입력
			String selectNo = scanner.nextLine();
			
			switch (selectNo){
			case "1":
				target();	//목표금액
			case "2":
				register(); //등록
				break;
			case "3":
				modified(); //수정
				break;
			case "4":
				delete(); //삭제
				break;
			case "5":
				save(); //저장
				break;
			case "6":		//조회
				showList();
				break;
			case "7":
				balcheck(); //잔액확인
				break;
			case "8":		//종료
				System.out.println("프로그램이 종료되었습니다.");
				return;						
		}
			
		}
		
		
	}
	// 목표금액 
	public void target() {
		
		System.out.println("오늘의 목표 금액은? ");
		menu.setGoal(Integer.parseInt(scanner.nextLine()));
		
	}
	public void register() {
		try {
			
			menu.setPno(++counter);
		
			System.out.print("사용범주: ");
			menu.setCategory(scanner.nextLine());
			
			System.out.print("상품명: ");
			menu.setName(scanner.nextLine());
		
			System.out.print("가격: ");
			menu.setPrice(Integer.parseInt(scanner.nextLine()));
			
			listmenu.add(menu);
		}catch (Exception e) {
			System.out.println("등록 에러: " + e.getMessage());
		}
	}
	public void modified() {
		try {
			System.out.println("수정할 메뉴의 번호를 입력하세요: ");
			int menuNum = Integer.parseInt(scanner.nextLine());
			for (Menu menu : listmenu) {
				if(menu.getPno()==menuNum) {
					System.out.print("새로운 사용범주: ");
					String newCategory = scanner.nextLine();
					menu.setCategory(newCategory);
					
					System.out.print("새로운 상품명: ");
					String newName = scanner.nextLine();
					menu.setName(newName);
					
					System.out.print("새로운 가격: ");
					Integer newPrice = Integer.parseInt(scanner.nextLine());
					menu.setPrice(newPrice);
					
					System.out.print("내역이 수정되었습니다.");
					
				}
			}
		}catch(Exception e){
			System.out.println("등록 에러: " + e.getMessage());
			
		}
		
			
	}
	public void delete() {
		
	}
	public void save() {
		
	}
	public void showList() {
		for (Menu m : listmenu) {
			System.out.println(
					m.getPno() + "\t" +
					m.getCategory()+ "\t" +
					m.getName()+ "\t" +
					m.getPrice()+ "\t"
					);
		}
		
	}
	public void balcheck() {
		Menu menu = new Menu();
		int gol = menu.getGoal();
		int cha = menu.getBalance();
		System.out.println("오늘 사용가능한 금액: " );
		
	}
				
		
	

}
